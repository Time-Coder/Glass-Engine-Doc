<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>公共属性 &mdash; Glass Engine 0.0.1 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/glass_engine_logo32.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="着色模型" href="../shading_models/shading_models.html" />
    <link rel="prev" title="材质" href="../material.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Glass Engine
              <img src="../../_static/glass_engine_logo64.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">目录:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduce/introduce.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_start/getting_start.html">开始</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scene_graph/scene_graph.html">场景图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../transform/transform.html">空间变换</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../background/background.html">背景</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geometries/geometries.html">基本几何体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../model/model.html">模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../color_renderhint/color_renderhint.html">颜色与渲染提示</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../material.html">材质</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">公共属性</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ambient-glm-vec3">环境光颜色 ambient : glm.vec3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diffuse-glm-vec3">漫反射颜色 diffuse : glm.vec3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specular-glm-vec3">高光颜色 specular : glm.vec3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shininess-strength-float">高光强度 shininess_strength : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shininess-float">闪耀度 shininess : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#glossiness-float">光泽度 glossiness : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emission-glm-vec3">自发光颜色 emission : glm.vec3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rim-power-float">边缘光强度 rim_power : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reflection-glm-vec4">环境映射层颜色 reflection : glm.vec4</a></li>
<li class="toctree-l3"><a class="reference internal" href="#env-mix-diffuse-bool">环境映射与漫反射颜色是否混合 env_mix_diffuse : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-env-mapping-bool">动态环境映射 dynamic_env_mapping : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#auto-update-env-map-bool">自动更新环境映射贴图 auto_update_env_map : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#refractive-index-float">折射率 refractive_index : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#opacity-float">材质不透明度 opacity : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fog-bool">是否受雾影响 fog : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cast-shadows-bool">是否投射阴影 cast_shadows : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recv-shaodws-bool">是否接收阴影 recv_shaodws : bool</a></li>
<li class="toctree-l3"><a class="reference internal" href="#height-scale-float">凹凸夸张系数 height_scale : float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">纹理贴图</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../shading_models/shading_models.html">着色模型</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal_materials/internal_materials.html">内置材质</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../lights/lights.html">光源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../camera/camera.html">相机</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fog/fog.html">雾</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../post_process_effects/post_process_effects.html">后处理效果</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manipulators/manipulators.html">键鼠交互</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../renderers/renderers.html">渲染器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../animation/animation.html">动画</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Glass Engine</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../material.html">材质</a></li>
      <li class="breadcrumb-item active">公共属性</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/material/common_props/common_props.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="label-common-props">
<span id="id1"></span><h1>公共属性<a class="headerlink" href="#label-common-props" title="此标题的永久链接"></a></h1>
<p>我们注意到多种着色模型可能会共享一些公共的属性，下面对这些公共属性进行介绍。</p>
<section id="ambient-glm-vec3">
<h2>环境光颜色 ambient : glm.vec3<a class="headerlink" href="#ambient-glm-vec3" title="此标题的永久链接"></a></h2>
<p>一些光照模型的视觉表现分为三层，分别为环境光部分、漫反射部分、镜面高光部分，如下图所示：</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/div.png"><img alt="../../_images/div.png" src="../../_images/div.png" style="width: 340.2px; height: 246.39999999999998px;" /></a>
<figcaption>
<p><span class="caption-text">图 1. 环境光、漫反射、镜面高光部分</span><a class="headerlink" href="#id4" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
<p>环境光区域为光照不到的区域，材质的 ambient 属性则用来设置环境光区域的颜色。通常情况下，将 ambient 设置的较暗的颜色。</p>
</section>
<section id="diffuse-glm-vec3">
<h2>漫反射颜色 diffuse : glm.vec3<a class="headerlink" href="#diffuse-glm-vec3" title="此标题的永久链接"></a></h2>
<p>漫反射部分为被光照亮的部分，如图 1 所示。材质的 diffuse 属性被用来设置漫反射区域的颜色。通常情况下，将 diffuse 设置为主颜色。</p>
</section>
<section id="specular-glm-vec3">
<h2>高光颜色 specular : glm.vec3<a class="headerlink" href="#specular-glm-vec3" title="此标题的永久链接"></a></h2>
<p>镜面高光部分为正好能将光反射进相机的部分，如图 1 所示。材质的 specular 属性被用来设置镜面高光区域的颜色。通常情况下，将 specular 设置为接近白色的颜色。</p>
</section>
<section id="shininess-strength-float">
<h2>高光强度 shininess_strength : float<a class="headerlink" href="#shininess-strength-float" title="此标题的永久链接"></a></h2>
<p>材质的高光强度属性 shininess_strength 用于提亮或减暗高光颜色，大于 1 则提亮，小于 1 则减暗。在 <strong>Glass Engine</strong> 内部是将高光强度 shininess_strength 与 specular 相乘得到的颜色作为真正使用的高光颜色。</p>
</section>
<section id="shininess-float">
<h2>闪耀度 shininess : float<a class="headerlink" href="#shininess-float" title="此标题的永久链接"></a></h2>
<p>镜面高光部分的光点大小由 shininess 控制，图 2 反映了 shininess 对光点大小的影响：</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../_images/shininess_compare.png"><img alt="../../_images/shininess_compare.png" src="../../_images/shininess_compare.png" style="width: 803.7900000000001px; height: 117.72000000000001px;" /></a>
<figcaption>
<p><span class="caption-text">图 2. shininess 对光点大小的影响</span><a class="headerlink" href="#id5" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="glossiness-float">
<h2>光泽度 glossiness : float<a class="headerlink" href="#glossiness-float" title="此标题的永久链接"></a></h2>
<p>光泽度 glossiness 始终为 shininess 的算术平方根，通过 glossiness 调整闪耀度可使光点大小变化更均匀。</p>
</section>
<section id="emission-glm-vec3">
<h2>自发光颜色 emission : glm.vec3<a class="headerlink" href="#emission-glm-vec3" title="此标题的永久链接"></a></h2>
<p>自发光颜色 emission 则会直接加到最终的光照结果上。设置较强的自发光颜色并开启 <a class="reference internal" href="../../post_process_effects/post_process_effects.html#label-bloom"><span class="std std-ref">泛光</span></a> 后，能够营造物体发射光芒的效果，例如将 emission 设置为 <code class="docutils literal notranslate"><span class="pre">glm.vec3(10,</span> <span class="pre">0,</span> <span class="pre">0)</span></code> 则表现为发红光，并开启 <a class="reference internal" href="../../post_process_effects/post_process_effects.html#label-bloom"><span class="std std-ref">泛光</span></a>：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">light</span><span class="o">.</span><span class="n">generate_shadows</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">sphere</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1"># 设置自发光颜色为强红光</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">emission</span> <span class="o">=</span> <span class="n">glm</span><span class="o">.</span><span class="n">vec3</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">bloom</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># 开启泛光</span>
<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够达到如图 3 所示效果：</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../_images/emission_red.png"><img alt="../../_images/emission_red.png" src="../../_images/emission_red.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 3. 设置自发光为强红色的效果</span><a class="headerlink" href="#id6" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>自发光颜色 emission 只会添加到自身颜色上，它并没有任何光源的作用，不会照亮别的物体。如果想照亮别的物体，则请在场景中添加 <a class="reference internal" href="../../lights/lights.html#label-lights"><span class="std std-ref">光源</span></a>。</p>
</div>
</section>
<section id="rim-power-float">
<h2>边缘光强度 rim_power : float<a class="headerlink" href="#rim-power-float" title="此标题的永久链接"></a></h2>
<p>将光源放置在物体后面，则能够观察到光沿着物体边缘延伸过来的边缘光 (rim light) 效果，如图 4 所示。</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../_images/rim_power0.3.png"><img alt="../../_images/rim_power0.3.png" src="../../_images/rim_power0.3.png" style="width: 142.4px; height: 142.4px;" /></a>
<figcaption>
<p><span class="caption-text">图 4. 背光侧观察物体时的边缘光效果</span><a class="headerlink" href="#id7" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
<p>可通过材质的 rim_power 属性调整边缘光强度，其默认值为 0.2，值越大，边缘光越强，如图 5 所示。</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../_images/rim_power_compare.png"><img alt="../../_images/rim_power_compare.png" src="../../_images/rim_power_compare.png" style="width: 794.75px; height: 114.25px;" /></a>
<figcaption>
<p><span class="caption-text">图 5. rim_power 对边缘光强度的影响</span><a class="headerlink" href="#id8" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="reflection-glm-vec4">
<h2>环境映射层颜色 reflection : glm.vec4<a class="headerlink" href="#reflection-glm-vec4" title="此标题的永久链接"></a></h2>
<p>环境映射即反射和折射效果。材质的 reflection 属性可以控制环境映射层的颜色，该层颜色会与反射或折射颜色相乘，alpha 通道则控制反射或折射颜色的不透明度。默认情况下环境映射层颜色完全透明，即没有反射或折射的颜色。通过将其 alpha 通道设置为非 0 值，即可得到反射效果，例如设置球体材质的 reflection.a = 1 并添加 <a class="reference internal" href="../../background/background.html#label-skydome"><span class="std std-ref">天空穹顶</span></a>：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>

<span class="n">sphere</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">reflection</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>即可得到图 6 所示效果：</p>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../../_images/reflection.png"><img alt="../../_images/reflection.png" src="../../_images/reflection.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 6. 反射效果开启</span><a class="headerlink" href="#id9" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="env-mix-diffuse-bool">
<h2>环境映射与漫反射颜色是否混合 env_mix_diffuse : bool<a class="headerlink" href="#env-mix-diffuse-bool" title="此标题的永久链接"></a></h2>
<p>在图 6 中我们看到，反射层带有物体原本的颜色，这是因为材质的环境映射与漫反射颜色混合的 bool 属性 env_mix_diffuse 默认开启了，你可以通过下述代码将其关闭：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphere</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">env_mix_diffuse</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>则可以得到图 7 所示的效果：</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../../_images/reflection_no_mix.png"><img alt="../../_images/reflection_no_mix.png" src="../../_images/reflection_no_mix.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 7. 关闭 env_mix_diffuse 后的反射效果</span><a class="headerlink" href="#id10" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="dynamic-env-mapping-bool">
<h2>动态环境映射 dynamic_env_mapping : bool<a class="headerlink" href="#dynamic-env-mapping-bool" title="此标题的永久链接"></a></h2>
<p>仔细观察图 7 你会发现，球面倒影中并没有地板。因为，如果没有开启动态环境映射 dynamic_env_mapping，则只会反射 <a class="reference internal" href="../../background/background.html#label-skybox"><span class="std std-ref">天空盒</span></a> 或 <a class="reference internal" href="../../background/background.html#label-skydome"><span class="std std-ref">天空穹顶</span></a>，场景中的其他物体则不予以反射。开启动态环境映射后，则可以反射场景中的其他物体。通过如下代码可以比较开启与不开启动态环境映射的区别：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>

<span class="n">sphere1</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.5</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">reflection</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">env_mix_diffuse</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">dynamic_env_mapping</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere1</span><span class="p">)</span>

<span class="n">sphere2</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">reflection</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">env_mix_diffuse</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">dynamic_env_mapping</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere2</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">TrefoilKnot</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">0.75</span>
<span class="n">model</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">90</span>
<span class="n">model</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">model</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够得到图 8 所示结果：</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../../_images/dynamic_compare.png"><img alt="../../_images/dynamic_compare.png" src="../../_images/dynamic_compare.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 8. 左边的球没有开启动态环境映射，右边的开启了</span><a class="headerlink" href="#id11" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="auto-update-env-map-bool">
<h2>自动更新环境映射贴图 auto_update_env_map : bool<a class="headerlink" href="#auto-update-env-map-bool" title="此标题的永久链接"></a></h2>
<p>当场景中有任何物体状态发生改变后，其环境映射镜像也应该跟着改变，但如果不开启材质的 auto_update_env_map，则镜像不会跟着改变，除非你手动调用材质的 <code class="docutils literal notranslate"><span class="pre">update_env_map()</span></code> 方法。所以，想要镜像随时保持更新，请开启 auto_update_env_map。</p>
</section>
<section id="refractive-index-float">
<h2>折射率 refractive_index : float<a class="headerlink" href="#refractive-index-float" title="此标题的永久链接"></a></h2>
<p>环境映射除了可以反射，还可以实现折射效果，只需将材质的折射率属性 refractive_index 设置为非零值即可。下表是一些常见半透明材质的折射率：</p>
<table class="docutils align-center" id="id12">
<caption><span class="caption-text">常见半透明材质的折射率</span><a class="headerlink" href="#id12" title="此表格的永久链接"></a></caption>
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>材质</p></th>
<th class="head"><p>折射率 refractive_index</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>空气</p></td>
<td><p>1.00</p></td>
</tr>
<tr class="row-odd"><td><p>水</p></td>
<td><p>1.33</p></td>
</tr>
<tr class="row-even"><td><p>冰</p></td>
<td><p>1.31</p></td>
</tr>
<tr class="row-odd"><td><p>有机玻璃</p></td>
<td><p>1.49</p></td>
</tr>
<tr class="row-even"><td><p>玻璃</p></td>
<td><p>1.52</p></td>
</tr>
<tr class="row-odd"><td><p>钻石</p></td>
<td><p>2.42</p></td>
</tr>
</tbody>
</table>
<p>通过如下代码将材质折射率设置为 1.52 ：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>

<span class="n">sphere1</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">refractive_index</span> <span class="o">=</span> <span class="mf">1.52</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">env_mix_diffuse</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">dynamic_env_mapping</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere1</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">TrefoilKnot</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">90</span>
<span class="n">model</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">model</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">model</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够产生图 9 所示的玻璃球效果：</p>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../../_images/glass_ball.png"><img alt="../../_images/glass_ball.png" src="../../_images/glass_ball.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 9. 设置折射率为 1.52</span><a class="headerlink" href="#id13" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="opacity-float">
<h2>材质不透明度 opacity : float<a class="headerlink" href="#opacity-float" title="此标题的永久链接"></a></h2>
<p>当材质不透明度 opacity 为 1 时，则完全显示为材质的视觉表现；当材质的不透明度 opacity 为 0 时，则完全显示为本体的视觉表现；当 opacity 介于 0 到 1 之间时，表现效果则在本体颜色和材质效果之间插值。注意，opacity 并不代表物体表面的不透明度，而是材质的不透明度，要想让 opacity 直接代表表面的不透明度，可以将物体的本体颜色设置为完全透明，如下面代码所示：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>

<span class="n">sphere</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">glm</span><span class="o">.</span><span class="n">vec4</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># 本体颜色完全透明</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">diffuse</span> <span class="o">=</span> <span class="n">glm</span><span class="o">.</span><span class="n">vec3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># 漫反射颜色为绿色</span>
<span class="n">sphere</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># 此时材质半透明等价于表面半透明</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>会得到如图 10 所示结果：</p>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../../_images/green.png"><img alt="../../_images/green.png" src="../../_images/green.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 10. 本体颜色完全透明时，opacity 等价于表面不透明度</span><a class="headerlink" href="#id14" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="fog-bool">
<h2>是否受雾影响 fog : bool<a class="headerlink" href="#fog-bool" title="此标题的永久链接"></a></h2>
<p>在设置场景的 <a class="reference internal" href="../../fog/fog.html#label-fog"><span class="std std-ref">雾</span></a> 密度之后，默认情况下所有物体都受到了雾的影响。但可通过材质的 fog 属性控制该材质是否受雾影响。可通过如下代码能够对比是否开启 fog 选项的区别：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">dir_light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">fog</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="mf">0.05</span> <span class="c1"># 设置雾密度</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>
<span class="n">scene</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">sphere1</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">fog</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># 不受雾影响</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere1</span><span class="p">)</span>

<span class="n">sphere2</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">fog</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># 受雾影响</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere2</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够得到如图 11 所示的效果。</p>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../../_images/compare_fog.png"><img alt="../../_images/compare_fog.png" src="../../_images/compare_fog.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 11. 左边球不受雾影响，右边球受雾影响</span><a class="headerlink" href="#id15" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="cast-shadows-bool">
<h2>是否投射阴影 cast_shadows : bool<a class="headerlink" href="#cast-shadows-bool" title="此标题的永久链接"></a></h2>
<p>默认情况下，所有物体都会投射阴影，但可通过材质的 cast_shadows 属性控制该材质是否投射阴影。可通过如下代码对比关闭投射阴影和开启投射阴影的效果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">dir_light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>

<span class="n">sphere1</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">cast_shadows</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere1</span><span class="p">)</span>

<span class="n">sphere2</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">cast_shadows</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere2</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够得到如图 12 所示的效果。</p>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../../_images/compare_cast_shadows.png"><img alt="../../_images/compare_cast_shadows.png" src="../../_images/compare_cast_shadows.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 12. 左边球关闭投射阴影，右边球开启投射阴影</span><a class="headerlink" href="#id16" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="recv-shaodws-bool">
<h2>是否接收阴影 recv_shaodws : bool<a class="headerlink" href="#recv-shaodws-bool" title="此标题的永久链接"></a></h2>
<p>默认情况下，所有物体都接收阴影，但可通过材质的 recv_shadows 属性控制该材质是否接收阴影。可通过如下代码对比关闭接收阴影和开启接收阴影的效果：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">dir_light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>
<span class="n">dir_light</span><span class="o">.</span><span class="n">yaw</span> <span class="o">=</span> <span class="mi">90</span>

<span class="n">sphere1</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">sphere1</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">recv_shadows</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere1</span><span class="p">)</span>

<span class="n">sphere2</span> <span class="o">=</span> <span class="n">Sphere</span><span class="p">()</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sphere2</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">recv_shadows</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sphere2</span><span class="p">)</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">Lx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Ly</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Lz</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">box</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">box</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">box</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>能够得到如图 13 所示的效果。</p>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../../_images/compare_recv_shadows.png"><img alt="../../_images/compare_recv_shadows.png" src="../../_images/compare_recv_shadows.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 13. 左上方的球关闭接收阴影，右下方的球开启接收阴影</span><a class="headerlink" href="#id17" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
<p>可以看出，关闭了接收阴影属性后，即使完全处于阴影中，迎光面也会被照亮。</p>
</section>
<section id="height-scale-float">
<h2>凹凸夸张系数 height_scale : float<a class="headerlink" href="#height-scale-float" title="此标题的永久链接"></a></h2>
<p>当使用了凹凸贴图、法向量贴图后，可通过材质的 height_scale 属性控制凹凸程度。height_scale 默认值为 0.05，下图是添加凹凸贴图和法向量贴图后，两个盒子使用不同的 height_scale 的对比效果图：</p>
<figure class="align-center" id="id18">
<a class="reference internal image-reference" href="../../_images/height_scale_compare.png"><img alt="../../_images/height_scale_compare.png" src="../../_images/height_scale_compare.png" style="width: 817.2px; height: 326.40000000000003px;" /></a>
<figcaption>
<p><span class="caption-text">图 14. 不同 height_scale 对比效果图</span><a class="headerlink" href="#id18" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
<section id="id2">
<h2>纹理贴图<a class="headerlink" href="#id2" title="此标题的永久链接"></a></h2>
<p>在渲染中，一个物体的材质属性往往不是通体唯一的，而是每个片段位置一个值，这可以通过纹理贴图来实现。<strong>Glass Engine</strong> 支持以下纹理贴图：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">material.ambient_map</span></code>：环境光贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.diffuse_map</span></code>：漫反射贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.specular_map</span></code>：镜面高光贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.shininess_map</span></code>：闪耀度贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.glossiness_map</span></code>：光泽度贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.emission_map</span></code>：自发光贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.opacity_map</span></code>：材质不透明度贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.reflection_map</span></code>：环境映射层贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.base_color_map</span></code>：基础颜色贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.metallic_map</span></code>：金属度贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.roughness_map</span></code>：粗糙度贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.ao_map</span></code>：环境光遮蔽贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.normal_map</span></code>：法向量贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.height_map</span></code>：凹凸贴图</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">material.arm_map</span></code>：环境光遮蔽、粗糙度、金属度压缩格式贴图</p></li>
</ul>
<p>所有纹理贴图可直接设置为图片的名称。你可以从 <a class="reference external" href="https://polyhaven.com/textures">https://polyhaven.com/textures</a> 下载到大量的纹理贴图，也可使用 <a class="reference internal" href="../../animation/animation.html#label-shadertory"><span class="std std-ref">Shadertoy 动态纹理</span></a>。例如，下述代码将下载到的 <a class="reference external" href="https://polyhaven.com/a/ganges_river_pebbles">鹅卵石纹理</a> 贴到一个立方体表面：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">glass_engine</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">glass_engine.Geometries</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">dir_light</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">SceneRoam</span><span class="p">()</span>
<span class="n">scene</span><span class="o">.</span><span class="n">skydome</span> <span class="o">=</span> <span class="s2">&quot;sunflowers_puresky_4k.exr&quot;</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">()</span>
<span class="n">box</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">ao_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_ao_1k.png&quot;</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">arm_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_arm_1k.png&quot;</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">diffuse_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_diff_1k.png&quot;</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">height_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_disp_1k.png&quot;</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">normal_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_nor_gl_1k.png&quot;</span>
<span class="n">box</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">roughness_map</span> <span class="o">=</span> <span class="s2">&quot;ganges_river_pebbles_rough_1k.png&quot;</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>

<span class="n">camera</span><span class="o">.</span><span class="n">screen</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>可以打造如图 15 所示的效果：</p>
<figure class="align-center" id="id19">
<a class="reference internal image-reference" href="../../_images/box_stone.png"><img alt="../../_images/box_stone.png" src="../../_images/box_stone.png" style="width: 400.0px; height: 288.0px;" /></a>
<figcaption>
<p><span class="caption-text">图 15. 应用多种纹理贴图的立方体</span><a class="headerlink" href="#id19" title="此图像的永久链接"></a></p>
</figcaption>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="../material.html" class="btn btn-neutral float-left" title="材质" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../shading_models/shading_models.html" class="btn btn-neutral float-right" title="着色模型" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2023, 王炳辉.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>